<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Level Devil - Password Puzzle</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Courier New', monospace;
            background: linear-gradient(45deg, #1a1a1a, #2d2d2d);
            color: #00ff00;
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            overflow: hidden;
        }

        .container {
            text-align: center;
            border: 2px solid #00ff00;
            padding: 40px;
            background: rgba(0, 0, 0, 0.9);
            box-shadow: 0 0 30px #00ff00;
            max-width: 600px;
            width: 90%;
        }

        h1 {
            font-size: 2.5em;
            margin-bottom: 20px;
            text-shadow: 0 0 10px #00ff00;
            animation: glow 2s ease-in-out infinite alternate;
        }

        @keyframes glow {
            from { text-shadow: 0 0 10px #00ff00; }
            to { text-shadow: 0 0 20px #00ff00, 0 0 30px #00ff00; }
        }

        .devil-icon {
            font-size: 3em;
            margin-bottom: 20px;
            animation: bounce 1s infinite;
        }

        @keyframes bounce {
            0%, 20%, 50%, 80%, 100% { transform: translateY(0); }
            40% { transform: translateY(-10px); }
            60% { transform: translateY(-5px); }
        }

        .puzzle-section {
            margin: 30px 0;
        }

        .puzzle-title {
            font-size: 1.5em;
            margin-bottom: 20px;
            color: #ffff00;
        }

        .puzzle-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 10px;
            max-width: 300px;
            margin: 0 auto 20px;
        }

        .puzzle-piece {
            width: 80px;
            height: 80px;
            border: 2px solid #00ff00;
            background: #1a1a1a;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 2em;
            cursor: pointer;
            transition: all 0.3s ease;
            user-select: none;
        }

        .puzzle-piece:hover {
            background: rgba(0, 255, 0, 0.2);
            transform: scale(1.1);
        }

        .puzzle-piece.selected {
            background: #00ff00;
            color: #1a1a1a;
            transform: scale(1.2);
        }

        .puzzle-sequence {
            margin: 20px 0;
            font-size: 1.2em;
            color: #ffff00;
            min-height: 30px;
        }

        .keyboard-section {
            display: none;
            margin: 30px 0;
        }

        .keyboard-section.active {
            display: block;
            animation: slideIn 0.5s ease;
        }

        @keyframes slideIn {
            from { opacity: 0; transform: translateY(-20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .timer-display {
            font-size: 2em;
            color: #ff0000;
            margin-bottom: 20px;
            text-shadow: 0 0 10px #ff0000;
        }

        .timer-display.warning {
            animation: blink 0.5s infinite;
        }

        @keyframes blink {
            0%, 50% { opacity: 1; }
            51%, 100% { opacity: 0.3; }
        }

        .mini-keyboard {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 10px;
            max-width: 200px;
            margin: 0 auto;
        }

        .key {
            width: 50px;
            height: 50px;
            border: 1px solid #00ff00;
            background: #1a1a1a;
            color: #00ff00;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: all 0.2s ease;
            font-size: 1.2em;
        }

        .key:hover {
            background: rgba(0, 255, 0, 0.2);
        }

        .key:active {
            background: #00ff00;
            color: #1a1a1a;
        }

        .password-display {
            margin: 20px 0;
            font-size: 1.5em;
            color: #ffff00;
            letter-spacing: 5px;
            min-height: 30px;
        }

        .status-message {
            margin: 20px 0;
            padding: 10px;
            border-radius: 5px;
            font-weight: bold;
        }

        .status-message.success {
            background: rgba(0, 255, 0, 0.2);
            color: #00ff00;
            border: 1px solid #00ff00;
        }

        .status-message.error {
            background: rgba(255, 0, 0, 0.2);
            color: #ff0000;
            border: 1px solid #ff0000;
        }

        .status-message.warning {
            background: rgba(255, 255, 0, 0.2);
            color: #ffff00;
            border: 1px solid #ffff00;
        }

        .reset-btn {
            background: #1a1a1a;
            border: 2px solid #ff0000;
            color: #ff0000;
            padding: 10px 20px;
            font-size: 1em;
            font-family: 'Courier New', monospace;
            cursor: pointer;
            transition: all 0.3s ease;
            margin-top: 20px;
        }

        .reset-btn:hover {
            background: #ff0000;
            color: #1a1a1a;
        }

        .instructions {
            margin: 20px 0;
            padding: 15px;
            background: rgba(255, 255, 0, 0.1);
            border: 1px solid #ffff00;
            color: #ffff00;
            font-size: 0.9em;
            line-height: 1.4;
        }

        .glitch-effect {
            animation: glitch 0.3s ease-in-out;
        }

        @keyframes glitch {
            0% { transform: translate(0); }
            20% { transform: translate(-2px, 2px); }
            40% { transform: translate(-2px, -2px); }
            60% { transform: translate(2px, 2px); }
            80% { transform: translate(2px, -2px); }
            100% { transform: translate(0); }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="devil-icon">üòà</div>
        <h1>Level Devil</h1>
        <h2>Password Puzzle</h2>
        
        <div class="instructions">
            üîê Resolva o puzzle clicando nos n√∫meros na sequ√™ncia correta para desbloquear o teclado.<br>
            ‚è∞ Voc√™ ter√° apenas 3 segundos para digitar cada caractere da senha!
        </div>

        <div class="puzzle-section" id="puzzleSection">
            <div class="puzzle-title">Sequ√™ncia: 1 ‚Üí 2 ‚Üí 3 ‚Üí 4 ‚Üí 5</div>
            <div class="puzzle-grid">
                <div class="puzzle-piece" data-number="1">1</div>
                <div class="puzzle-piece" data-number="2">2</div>
                <div class="puzzle-piece" data-number="3">3</div>
                <div class="puzzle-piece" data-number="4">4</div>
                <div class="puzzle-piece" data-number="5">5</div>
                <div class="puzzle-piece" data-number="6">6</div>
                <div class="puzzle-piece" data-number="7">7</div>
                <div class="puzzle-piece" data-number="8">8</div>
                <div class="puzzle-piece" data-number="9">9</div>
            </div>
            <div class="puzzle-sequence" id="puzzleSequence">Sequ√™ncia: </div>
        </div>

        <div class="keyboard-section" id="keyboardSection">
            <div class="puzzle-title">üîë Mini Teclado Desbloqueado!</div>
            <div class="timer-display" id="timerDisplay">3</div>
            <div class="password-display" id="passwordDisplay">_ _ _ _ _</div>
            <div class="mini-keyboard">
                <div class="key" data-char="A">A</div>
                <div class="key" data-char="B">B</div>
                <div class="key" data-char="C">C</div>
                <div class="key" data-char="D">D</div>
                <div class="key" data-char="E">E</div>
                <div class="key" data-char="F">F</div>
                <div class="key" data-char="G">G</div>
                <div class="key" data-char="H">H</div>
                <div class="key" data-char="I">I</div>
            </div>
            <div class="status-message" id="statusMessage"></div>
        </div>

        <button class="reset-btn" id="resetBtn" onclick="resetGame()">üîÑ Reset Puzzle</button>
    </div>

    <script>
        let gameState = {
            puzzleSequence: [1, 2, 3, 4, 5],
            currentSequence: [],
            keyboardUnlocked: false,
            password: "DEVIL",
            currentPassword: "",
            currentCharIndex: 0,
            timer: null,
            timeLeft: 3,
            attempts: 0
        };

        const puzzleSection = document.getElementById('puzzleSection');
        const keyboardSection = document.getElementById('keyboardSection');
        const puzzleSequence = document.getElementById('puzzleSequence');
        const timerDisplay = document.getElementById('timerDisplay');
        const passwordDisplay = document.getElementById('passwordDisplay');
        const statusMessage = document.getElementById('statusMessage');

        function initGame() {
            gameState.currentSequence = [];
            gameState.keyboardUnlocked = false;
            gameState.currentPassword = "";
            gameState.currentCharIndex = 0;
            gameState.timeLeft = 3;
            gameState.attempts = 0;
            
            puzzleSection.style.display = 'block';
            keyboardSection.classList.remove('active');
            updatePuzzleDisplay();
            updatePasswordDisplay();
            clearStatus();
        }

        function updatePuzzleDisplay() {
            const sequence = gameState.currentSequence.join(' ‚Üí ');
            puzzleSequence.textContent = `Sequ√™ncia: ${sequence}`;
        }

        function updatePasswordDisplay() {
            const display = gameState.password.split('').map((char, index) => {
                if (index < gameState.currentPassword.length) {
                    return gameState.currentPassword[index];
                }
                return '_';
            }).join(' ');
            passwordDisplay.textContent = display;
        }

        function checkPuzzleSequence() {
            if (gameState.currentSequence.length === gameState.puzzleSequence.length) {
                const isCorrect = gameState.currentSequence.every((num, index) => 
                    num === gameState.puzzleSequence[index]
                );
                
                if (isCorrect) {
                    unlockKeyboard();
                } else {
                    showStatus('‚ùå Sequ√™ncia incorreta! Tente novamente.', 'error');
                    setTimeout(() => {
                        gameState.currentSequence = [];
                        updatePuzzleDisplay();
                        clearStatus();
                    }, 2000);
                }
            }
        }

        function unlockKeyboard() {
            gameState.keyboardUnlocked = true;
            puzzleSection.style.display = 'none';
            keyboardSection.classList.add('active');
            showStatus('üéâ Teclado desbloqueado! Digite a senha em 3 segundos por caractere!', 'success');
            startPasswordTimer();
        }

        function startPasswordTimer() {
            gameState.timeLeft = 3;
            updateTimerDisplay();
            
            gameState.timer = setInterval(() => {
                gameState.timeLeft--;
                updateTimerDisplay();
                
                if (gameState.timeLeft <= 0) {
                    timeUp();
                }
            }, 1000);
        }

        function updateTimerDisplay() {
            timerDisplay.textContent = gameState.timeLeft;
            
            if (gameState.timeLeft <= 1) {
                timerDisplay.classList.add('warning');
            } else {
                timerDisplay.classList.remove('warning');
            }
        }

        function timeUp() {
            clearInterval(gameState.timer);
            gameState.attempts++;
            
            showStatus(`‚è∞ Tempo esgotado! Tentativa ${gameState.attempts}/3`, 'error');
            
            setTimeout(() => {
                if (gameState.attempts >= 3) {
                    showStatus('üíÄ Muitas tentativas! Sistema bloqueado!', 'error');
                    setTimeout(() => {
                        resetGame();
                    }, 3000);
                } else {
                    resetPassword();
                }
            }, 2000);
        }

        function resetPassword() {
            gameState.currentPassword = "";
            gameState.currentCharIndex = 0;
            updatePasswordDisplay();
            clearStatus();
            startPasswordTimer();
        }

        function checkPassword() {
            if (gameState.currentPassword === gameState.password) {
                clearInterval(gameState.timer);
                showStatus('üéâ SENHA CORRETA! Acesso liberado!', 'success');
                document.body.classList.add('glitch-effect');
                setTimeout(() => {
                    document.body.classList.remove('glitch-effect');
                }, 300);
            } else {
                showStatus('‚ùå Senha incorreta!', 'error');
                setTimeout(() => {
                    resetPassword();
                }, 1500);
            }
        }

        function showStatus(message, type) {
            statusMessage.textContent = message;
            statusMessage.className = `status-message ${type}`;
        }

        function clearStatus() {
            statusMessage.textContent = '';
            statusMessage.className = 'status-message';
        }

        function resetGame() {
            clearInterval(gameState.timer);
            initGame();
        }

        document.querySelectorAll('.puzzle-piece').forEach(piece => {
            piece.addEventListener('click', () => {
                if (!gameState.keyboardUnlocked) {
                    const number = parseInt(piece.dataset.number);
                    gameState.currentSequence.push(number);
                    updatePuzzleDisplay();
                    checkPuzzleSequence();
                    
                    piece.classList.add('selected');
                    setTimeout(() => {
                        piece.classList.remove('selected');
                    }, 300);
                }
            });
        });

        document.querySelectorAll('.key').forEach(key => {
            key.addEventListener('click', () => {
                if (gameState.keyboardUnlocked && gameState.timeLeft > 0) {
                    const char = key.dataset.char;
                    gameState.currentPassword += char;
                    gameState.currentCharIndex++;
                    
                    updatePasswordDisplay();
                    
                    key.style.background = '#00ff00';
                    key.style.color = '#1a1a1a';
                    setTimeout(() => {
                        key.style.background = '';
                        key.style.color = '';
                    }, 200);
                    
                    if (gameState.currentPassword.length === gameState.password.length) {
                        clearInterval(gameState.timer);
                        setTimeout(() => {
                            checkPassword();
                        }, 500);
                    } else {
                        clearInterval(gameState.timer);
                        startPasswordTimer();
                    }
                }
            });
        });

        setInterval(() => {
            if (Math.random() < 0.05) {
                document.body.classList.add('glitch-effect');
                setTimeout(() => {
                    document.body.classList.remove('glitch-effect');
                }, 300);
            }
        }, 3000);

        initGame();
    </script>
</body>
</html>
